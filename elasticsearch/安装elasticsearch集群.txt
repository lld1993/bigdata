1 安装java环境

2 下载es解压

3 进入es目录修改配置文件
	
	cluster.name: aubin-cluster                                 # 集群名称
	node.name: els1                                             # 节点名称，仅仅是描述名称，用于在日志中区分

	path.data: /var/lib/elasticsearch                           # 数据的默认存放路径	
	path.logs: /var/log/elasticsearch                           # 日志的默认存放路径

	network.host: 192.168.0.1                                   # 当前节点的IP地址
	http.port: 9200                                             # 对外提供服务的端口，9300为集群服务的端口，每个节点都要有自己的端口号

	discovery.zen.ping.unicast.hosts: ["172.18.68.11", "172.18.68.12","172.18.68.13"]       
	# 集群个节点IP地址，也可以使用els、els.shuaiguoxia.com等名称，需要各节点能够解析

	discovery.zen.minimum_master_nodes: 2                       # 为了避免脑裂，集群节点数最少为 半数+1
	
4 启动时报错，不能root用户启动，创建别的用户
	groupadd es          #增加es组

	useradd es -g es -p pwd          #增加es用户并附加到es组

	chown -R es:es elasticsearch-5.1.1          #给目录权限，包括存放日志的目录

	su es          #使用es用户

	./bin/elasticsearch -d          #后台运行es
	
5 启动时别的坑
	切换到root用户

	vi /etc/security/limits.conf
	
	添加如下内容：
		* soft nofile 65536

		* hard nofile 131072

		* soft nproc 2048

		* hard nproc 4096
	
	vi /etc/security/limits.d/90-nproc.conf（可能不是90，可以切到具体目录查看）
		* soft nproc 5120
		
	vi /etc/sysctl.conf 
		vm.max_map_count=655360
		
	使所有配置生效：
		sysctl -p
		
重启elasticsearch即可